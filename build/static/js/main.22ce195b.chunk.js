(this.webpackJsonpcaloriecounter=this.webpackJsonpcaloriecounter||[]).push([[0],{31:function(e,t,a){e.exports=a(64)},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},58:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),l=a.n(o),c=(a(36),a(8)),i=a(9),s=a(3),u=a(11),p=a(10),h=(a(37),a(38),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={foodItem:"",maxCalories:1/0},n.handleItemChange=n.handleItemChange.bind(Object(s.a)(n)),n.handleCaloriesChange=n.handleCaloriesChange.bind(Object(s.a)(n)),n.handleSearchResultsNormal=n.handleSearchResultsNormal.bind(Object(s.a)(n)),n.handleSearchResultsSorted=n.handleSearchResultsSorted.bind(Object(s.a)(n)),n.sortByCalories=n.sortByCalories.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"handleItemChange",value:function(e){this.setState({foodItem:e.target.value})}},{key:"handleCaloriesChange",value:function(e){this.setState({maxCalories:Number(e.target.value)})}},{key:"sortByCalories",value:function(e){try{e.sort((function(e,t){return e.calories-t.calories}))}catch(t){console.log("Was not able to sort due to no results popping up")}}},{key:"handleSearchResultsNormal",value:function(e){this.props.getNutrition(this.state.foodItem,this.state.maxCalories,null),e.preventDefault()}},{key:"handleSearchResultsSorted",value:function(e){this.props.getNutrition(this.state.foodItem,this.state.maxCalories,this.sortByCalories),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Bar",id:"background_image"},r.a.createElement("div",{className:"SearchBar"},r.a.createElement("input",{placeholder:"Enter Food Item",onChange:this.handleItemChange}),r.a.createElement("input",{placeholder:"Max Calories per Serving",onChange:this.handleCaloriesChange})),r.a.createElement("div",null,r.a.createElement("h2",null,"Sort By:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("button",{onClick:this.handleSearchResultsNormal},"Best Match")),r.a.createElement("li",null,r.a.createElement("button",{onClick:this.handleSearchResultsSorted},"Lowest Calories")))))}}]),a}(r.a.Component)),d=(a(39),a(40),a(14)),m=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).addToShoppingCart=n.addToShoppingCart.bind(Object(s.a)(n)),n.deleteFromShoppingCart=n.deleteFromShoppingCart.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"addToShoppingCart",value:function(){var e=this.props.product.brand,t=this.props.product.name,a=this.props.product.calories,n=this.props.product.serving_size,r=this.props.product.serving_unit,o=this.props.product.image_src;t&&d.post("https://obscure-citadel-45579.herokuapp.com/ShoppingCart/Create/?brand=".concat(e,"\n            &name=").concat(t,"&calories=").concat(a,"&serving_size=").concat(n,"\n            &serving_unit=").concat(r,"&image_src=").concat(o)),this.props.product.id?alert("Product successfully added to Shopping Cart on Top Right"):window.location.reload()}},{key:"deleteFromShoppingCart",value:function(){var e=this.props.product.image_src;e&&d.delete("https://obscure-citadel-45579.herokuapp.com/ShoppingCart/delete/?image_src=".concat(e)),alert("Product successfully removed from Shopping Cart")}},{key:"render",value:function(){return null==this.props.product?r.a.createElement("div",null):r.a.createElement("div",{className:"Item"},r.a.createElement("div",{className:"Item-brand"},r.a.createElement("p",null,"Brand: ",this.props.product.brand)),r.a.createElement("div",{className:"Item-name"},r.a.createElement("p",null,this.props.product.name)),r.a.createElement("hr",null),r.a.createElement("div",{className:"Item-information"},r.a.createElement("p",null,r.a.createElement("b",null,"Calories:")," ",this.props.product.calories),r.a.createElement("p",null,r.a.createElement("b",null,"Serving Size:")," ",this.props.product.serving_size),r.a.createElement("p",null,r.a.createElement("b",null,"Serving Unit:")," ",this.props.product.serving_unit)),r.a.createElement("div",{className:"buttons"},r.a.createElement("form",{action:this.props.product.image_src,method:"get",target:"_blank"},r.a.createElement("button",{type:"submit"},"Click for Image")),r.a.createElement("button",{onClick:this.addToShoppingCart},"Add to Cart"),r.a.createElement("button",{onClick:this.deleteFromShoppingCart},"Remove from Cart")))}}]),a}(r.a.Component),g=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e,t=!1;try{e=this.props.products.length}catch(a){t=!0,console.log("No results were found")}return 0===e&&1===this.props.count||t?r.a.createElement("div",{className:"no_results"},r.a.createElement("h1",null,"No Results Found!"),r.a.createElement("h3",null,"Try again with different filters")):r.a.createElement("div",{className:"Items_list"},this.props.products.map((function(e){return r.a.createElement(m,{product:e,key:e.id})})))}}]),a}(r.a.Component),f=(a(58),a(14)),v=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getCartData=n.getCartData.bind(Object(s.a)(n)),n.reload=n.reload.bind(Object(s.a)(n)),n.deleteAll=n.deleteAll.bind(Object(s.a)(n)),n.state={data:[]},n}return Object(i.a)(a,[{key:"getCartData",value:function(){var e=this,t=[];f.get("https://obscure-citadel-45579.herokuapp.com/ShoppingCart").then((function(a){for(var n=a.data,r=0;r<n.length;r++)t.push(n[r]);e.setState({data:t})}))}},{key:"deleteAll",value:function(){f.delete("https://obscure-citadel-45579.herokuapp.com/ShoppingCart/deleteall"),alert("All products successfully removed from shopping cart.")}},{key:"reload",value:function(){window.location.reload()}},{key:"componentDidMount",value:function(){this.getCartData()}},{key:"render",value:function(){return 0===this.state.data.length?r.a.createElement("div",null,r.a.createElement("h1",null,"Shopping Cart"),r.a.createElement("button",{onClick:this.reload},"Refresh Cart"),r.a.createElement("h3",null,"Nothing added to Shopping Cart yet.")):r.a.createElement("div",{className:"Items-list"},r.a.createElement("h1",null,"Shopping Cart"),r.a.createElement("button",{onClick:this.reload},"Refresh Cart"),r.a.createElement("div",{className:"Items"},this.state.data.map((function(e){return r.a.createElement("span",{className:"IndividualItem"},r.a.createElement(m,{product:e,key:e.calories}))}))),r.a.createElement("button",{onClick:this.deleteAll},"Remove All"))}}]),a}(r.a.Component),b=a(14),C={search:function(e,t,a){var n="https://trackapi.nutritionix.com/v2/search/instant?query=".concat(e);return b.get(n,{headers:{"x-app-id":"34f6f25d","x-app-key":"9fabfd8e5046ef072c7169f29614bf23"}}).then((function(e){return e.data.branded})).then((function(e){return e.map((function(e){return{brand:e.brand_name,name:e.food_name,id:e.nix_item_id,serving_size:e.serving_qty.toFixed(2),serving_unit:e.serving_unit,image_src:e.photo.thumb,calories:e.nf_calories.toFixed(0)}}))}))}},E=a(29),k=a(1),S=a(14),y=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={searchResults:[],count:0},n.getNutrition=n.getNutrition.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"getNutrition",value:function(e,t,a){var n=this,r=[];C.search(e).then((function(e){for(var o=0;o<20;o++)r.push(e[o]);var l;try{l=r.filter((function(e){return e.calories<=t}))}catch(c){console.log(c)}a&&a(l),n.setState({searchResults:l}),n.setState({count:1})}))}},{key:"resetBackendData",value:function(){S.delete("https://obscure-citadel-45579.herokuapp.com/ShoppingCart/deleteall")}},{key:"clearOutOldData",value:function(){var e=this;window.addEventListener("load",(function(t){t.preventDefault(),t.returnValue="",e.resetBackendData()}))}},{key:"componentDidMount",value:function(){"http://localhost:3000/ShoppingCart"!==window.location.href&&this.clearOutOldData()}},{key:"componentWillUnmount",value:function(){var e=this;"http://localhost:3000/ShoppingCart"!==window.location.href&&window.removeEventListener("load",(function(t){t.preventDefault(),t.returnValue="",e.resetBackendData()}))}},{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement("div",{className:"header"},r.a.createElement("p",{className:"nutritionix"},r.a.createElement("b",null,"Data from "),r.a.createElement("a",{href:"https://www.nutritionix.com/business/api",target:"_blank",rel:"noopener noreferrer"},"Nutritionix API")),r.a.createElement("div",{className:"ShoppingCart"},r.a.createElement("p",null,r.a.createElement("a",{href:"/ShoppingCart",target:"_blank"},"Shopping Cart"))),r.a.createElement("a",{href:"/ShoppingCart",target:"_blank"},r.a.createElement("img",{src:"https://icon2.cleanpng.com/20171220/jpe/shopping-cart-png-5a3a8fca5f1485.3449050215137873383895.jpg",alt:"Cart Logo"}))),r.a.createElement("div",{className:"break"}),r.a.createElement(k.c,null,r.a.createElement(k.a,{path:"/ShoppingCart"},r.a.createElement("div",{className:"App"},r.a.createElement(v,null))),r.a.createElement(k.a,{path:"/"},r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Find the Calories"),r.a.createElement(h,{getNutrition:this.getNutrition}),r.a.createElement(g,{products:this.state.searchResults,count:this.state.count})))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.22ce195b.chunk.js.map